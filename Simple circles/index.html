<!DOCTYPE html>
<html>
<head>
  <title>Simple circles using recursion</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/css/foundation.css">
<script src="http://cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/foundation/5.5.2/js/foundation.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>

</head>
<!-- <body onload="draw(x,y,radius)"> -->
<body>
  <div class="container">

    <div class="col-md-8">
      <h1>Fractals using recursion</h1>
      <p>A simple implementation of recursion to draw some aesthetically pleasing circles! Use the slider
      to change the radius.</p>
      <!-- <div class="col-md-4">
      <textarea class="form-control" maxlength="4" onfocus="this.value=''; this.onfocus='';" style="background:#ffffff; color:#000000; resize:none" rows="1" id="circle">Enter radius</textarea>
      </div> -->
      <!-- <button type="button" class="btn btn-primary" onclick="clean(); factorial($('#circle').val());">Draw</button> -->
      <!-- <button type="button" class="btn btn-primary" onclick="clean()">Clear</button> -->
    </div>
    <div class="container">

      <div class="col-md-8">
      <!-- <span id="mySlider"></span> -->
      <span id="mySlider"></span>
      <!-- <input type="number" id="mySlider" style="margin-top:7px;" value="72"> -->
      <div class="range-slider round" data-slider data-options="display_selector: #mySlider; start: 1; end: 9999;">
        <span class="range-slider-handle"></span>
        <span class="range-slider-active-segment"></span>
      </div>
</div>


      <div class="col-md-8">
        <div class="row">
          <hr>
      <canvas id="myCanvas" width="900" height="500" style="border:1px solid #d3d3d3;">
      </div>
      </div>
    </div>
  </div>
</div>

<script>
$(document).ready(function() {
    $(document).foundation();
})

var n;
var x = 450; var y = 250; var radius;

$('[data-slider]').on('change.fndtn.slider', function(){
         var value = $(this).attr('data-slider');
         clean();
         factorial(value);
         console.log(value);

    });


function clean(){
  console.log("testing");
  var c=document.getElementById("myCanvas");
  var ctx=c.getContext("2d");
  ctx.clearRect(0, 0, 900, 500);
}

function draw(x,y,radius){
  // console.log("test");
  var c = document.getElementById("myCanvas");
  var ctx = c.getContext("2d");
  ctx.beginPath();
  ctx.arc(x, y, radius, 0, 2 * Math.PI);
  ctx.fillStyle = '#'+(Math.random()*0xFFFF33<<0).toString(16);
  ctx.fill();
  ctx.stroke();
  ctx.closePath();
}

function factorial(n) {
  //draw(x,y,n);
  draw(x - n/2,y,n/2);
  draw(x + n/2,y,n/2);
  draw(x,y/2,n/2);
  draw(x,y + y/2,n/2);
  if(n>2) {
    return n * factorial(n*0.75);
  }
}
</script>

</body>
</html>
